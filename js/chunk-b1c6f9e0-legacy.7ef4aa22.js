(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1c6f9e0"],{"22d7":function(e,t,a){"use strict";var s=a("be87"),i=a.n(s);i.a},"714b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("a",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.isLogued,expression:"$store.state.isLogued"}],staticClass:"button is-floating is-primary",on:{click:function(t){return e.show_form(!0)}}},[a("b-icon",{attrs:{size:"is-small",icon:"border-all"}})],1),a("div",{staticClass:"modal",class:{"is-active":e.$store.state.isComponentModalActive}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Solicitud de documentos")]),a("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){e.show_form(!1),e.activeStep=0}}})]),a("section",{staticClass:"modal-card-body"},[a("section",{staticClass:"container"},[a("b-steps",{scopedSlots:e._u([{key:"navigation",fn:function(t){t.previous;var s=t.next;return[a("div",{staticClass:"buttons"},[3==e.activeStep?a("b-button",{attrs:{type:"is-primary",size:"is-medium",expanded:""},on:{click:e.submit}},[e._v("¡Terminar y enviar!")]):0!==e.activeStep?a("b-button",{attrs:{type:"is-primary",disabled:s.disabled,size:"is-medium",expanded:""},on:{click:function(t){return t.preventDefault(),e.nextStep()}}},[e._v("Siguiente")]):e._e()],1)]}}]),model:{value:e.activeStep,callback:function(t){e.activeStep=t},expression:"activeStep"}},[a("b-step-item",{attrs:{clickable:!1,label:"Trámite",icon:"file-document"}},[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-vertical is-12"},[a("div",{staticClass:"tile"},[a("div",{staticClass:"tile is-parent is-vertical"},[a("article",{staticClass:"tile is-child notification is-primary",on:{click:function(t){return e.optionSelected(1,"CONSTANCIA")}}},[a("p",{staticClass:"title is-5"},[e._v("Constancia de estudios")]),a("p",{staticClass:"subtitle is-6"},[e._v(" Normal, con promedio, SITUR ")])]),a("article",{staticClass:"tile is-child notification is-primary",on:{click:function(t){return e.optionSelected(2,"horario")}}},[a("p",{staticClass:"title is-5"},[e._v("Horario escolar")]),a("p",{staticClass:"subtitle is-6"},[e._v("Bottom tile")])])]),a("div",{staticClass:"tile is-parent is-vertical"},[a("article",{staticClass:"tile is-child notification is-primary",on:{click:function(t){return e.optionSelected(1,"IMMS")}}},[a("p",{staticClass:"title is-5"},[e._v("Alta/Baja IMSS")]),a("p",{staticClass:"subtitle is-6"},[e._v("Requiere NSS")])]),a("article",{staticClass:"tile is-child notification is-primary",on:{click:function(t){return e.optionSelected(2,"seguimiento")}}},[a("p",{staticClass:"title is-5"},[e._v("Seguimiento académico")]),a("p",{staticClass:"subtitle is-6"},[e._v(" Aligned with the right tile ")])])])])])])]),a("b-step-item",{attrs:{clickable:!1,label:"Requisitos",icon:"file-document-edit"}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("div",[a("ValidationObserver",{ref:"form1"},["CONSTANCIA"==e.option?a("ValidationProvider",{attrs:{rules:"required",name:"description"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors,i=t.valid;return[a("b-field",{attrs:{message:s,type:{"is-danger":s[0],"is-success":i},label:"Tipo de constancia"}},[a("b-select",{attrs:{size:"is-medium-small",expanded:"",placeholder:"Selecciona un tipo de constancia"},model:{value:e.schoolRequest.description,callback:function(t){e.$set(e.schoolRequest,"description",t)},expression:"schoolRequest.description"}},[a("option",{attrs:{value:""}},[e._v("Seleccione una opcion")]),a("option",{attrs:{value:"Normal"}},[e._v("Normal")]),a("option",{attrs:{value:"SITUR"}},[e._v("SITUR")]),a("option",{attrs:{value:"Promedio"}},[e._v("Promedio")])])],1)]}}],null,!1,379656590)}):e._e(),["IMMS"==e.option?a("ValidationProvider",{attrs:{rules:"required",name:"description"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors,i=t.valid;return[a("b-field",{attrs:{message:s,type:{"is-danger":s[0],"is-success":i},label:"Tipo de solicitud"}},[a("b-select",{attrs:{size:"is-medium-small",expanded:"",placeholder:"Seleccione una opcion"},model:{value:e.schoolRequest.description,callback:function(t){e.$set(e.schoolRequest,"description",t)},expression:"schoolRequest.description"}},[a("option",{attrs:{value:"alta_imms"}},[e._v("Alta")]),a("option",{attrs:{value:"baja_imms"}},[e._v("Baja")])])],1)]}}],null,!1,2968583030)}):e._e(),"IMMS"==e.option?[a("b-field",{attrs:{label:"NSS"}},[a("BInputWithValidation",{attrs:{rules:"required",type:"text",placeholder:"NSS"},model:{value:e.student.NSS,callback:function(t){e.$set(e.student,"NSS",t)},expression:"student.NSS"}})],1),"alta_imms"==e.schoolRequest.description?a("b-field",{attrs:{label:"CURP"}},[a("BInputWithValidation",{attrs:{rules:"required",type:"text",placeholder:"CURP"},model:{value:e.student.CURP,callback:function(t){e.$set(e.student,"CURP",t)},expression:"student.CURP"}})],1):e._e(),"alta_imms"==e.schoolRequest.description?a("a",{staticClass:"is-12",attrs:{href:"https://www.gob.mx/curp/",target:"_blank"}},[e._v("Consultar CURP")]):e._e()]:e._e()]],2)],1)])])]),a("b-step-item",{attrs:{clickable:!1,label:"Datos",icon:"account"}},[a("ValidationObserver",{ref:"form2"},[a("b-field",{attrs:{label:"Nombre(s)"}},[a("BInputWithValidation",{attrs:{rules:"required",type:"text",placeholder:"Nombre(s)"},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}})],1),a("b-field",{attrs:{label:"Apellidos"}},[a("BInputWithValidation",{attrs:{rules:"required",type:"text",placeholder:"Apellidos"},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}})],1),a("b-field",{attrs:{label:"Matrícula"}},[a("BInputWithValidation",{attrs:{rules:"required|matricula",type:"text",placeholder:"Matrícula"},model:{value:e.student.enrollment,callback:function(t){e.$set(e.student,"enrollment",t)},expression:"student.enrollment"}})],1),a("b-field",{attrs:{label:"Carrera"}},[a("BSelectWithValidation",{attrs:{rules:"required",size:"is-small-medium",placeholder:"Selecciona tu carrera"},model:{value:e.student.career,callback:function(t){e.$set(e.student,"career",t)},expression:"student.career"}},[a("option",{attrs:{value:"IGE"}},[e._v("Ingeniería en Gestión Empresarial")]),a("option",{attrs:{value:"IA"}},[e._v("Ingeniería Ambiental")]),a("option",{attrs:{value:"IBQ"}},[e._v("Ingeniería Bioquímica")]),a("option",{attrs:{value:"IBM"}},[e._v("Ingeniería Biomédica")]),a("option",{attrs:{value:"IQ"}},[e._v("Ingeniería Química")]),a("option",{attrs:{value:"IELE"}},[e._v("Ingeniería Eléctrica")]),a("option",{attrs:{value:"IELC"}},[e._v("Ingeniería Electrónica")]),a("option",{attrs:{value:"IM"}},[e._v("Ingeniería Mecánica")]),a("option",{attrs:{value:"IC"}},[e._v("Ingeniería Civil")]),a("option",{attrs:{value:"II"}},[e._v("Ingeniería Industrial")]),a("option",{attrs:{value:"ISC"}},[e._v("Ingeniería en Sistemas Computacionales")]),a("option",{attrs:{value:"LA"}},[e._v("Licenciatura en Administración")])])],1),a("b-field",{attrs:{label:"Ingreso"}},[a("BInputWithValidation",{attrs:{rules:"required",placeholder:"Selecciona tu ingreso",size:"is-small-medium",type:"number",min:"1",max:"12",expanded:""},model:{value:e.student.admission,callback:function(t){e.$set(e.student,"admission",t)},expression:"student.admission"}})],1)],1)],1),a("b-step-item",{attrs:{clickable:!1,label:"Archivos",icon:"cloud-upload"}},[a("ValidationObserver",{ref:"form3"},[[a("ValidationProvider",{attrs:{rules:"required",name:"description"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;t.valid;return[a("label",{staticClass:"label"},[e._v("INE")]),a("b-field",{staticClass:"file is-primary",class:{"has-name":!!e.schoolRequest.INE}},[a("b-upload",{staticClass:"file-label",attrs:{required:""},model:{value:e.schoolRequest.INE,callback:function(t){e.$set(e.schoolRequest,"INE",t)},expression:"schoolRequest.INE"}},[a("span",{staticClass:"file-cta"},[a("b-icon",{staticClass:"file-icon",attrs:{icon:"upload"}}),a("span",{staticClass:"file-label"},[e._v("Click to upload")])],1),e.schoolRequest.INE?a("span",{staticClass:"file-name"},[e._v(" "+e._s(e.schoolRequest.INE.name)+" ")]):e._e()])],1),e._v(" "+e._s(s[0])+" ")]}}])}),a("br"),"CONSTANCIA"==e.option?[a("ValidationProvider",{attrs:{rules:"required",name:"description"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;t.valid;return[a("label",{staticClass:"label"},[e._v("Foto infantil")]),a("b-field",{staticClass:"file is-primary",class:{"has-name":!!e.schoolRequest.photo}},[a("b-upload",{staticClass:"file-label",attrs:{required:""},model:{value:e.schoolRequest.photo,callback:function(t){e.$set(e.schoolRequest,"photo",t)},expression:"schoolRequest.photo"}},[a("span",{staticClass:"file-cta"},[a("b-icon",{staticClass:"file-icon",attrs:{icon:"upload"}}),a("span",{staticClass:"file-label"},[e._v("Click to upload")])],1),e.schoolRequest.photo?a("span",{staticClass:"file-name"},[e._v(" "+e._s(e.schoolRequest.photo.name)+" ")]):e._e()])],1),e._v(" "+e._s(s[0])+" ")]}}],null,!1,4056502150)})]:e._e()]],2)],1)],1)],1)])])])])},i=[],n=a("5530"),r=(a("96cf"),a("1da1")),o=a("2f62"),l=a("2612"),c={mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activeStep=0,t.next=3,e.$store.dispatch("getStudent");case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{file:null,activeStep:0,option:"",tramite:""}},computed:Object(n["a"])({},Object(o["b"])(["user","student","schoolRequest"])),methods:{show_form:function(e){this.$store.commit("SHOW_FORM",e)},optionSelected:function(e,t){this.activeStep=e,this.option=t},nextStep:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e.activeStep,t.next=1===t.t0?3:2===t.t0?10:17;break;case 3:return t.next=5,e.$refs.form1.validate();case 5:if(a=t.sent,a){t.next=8;break}return t.abrupt("return");case 8:return e.$refs.form1.$nextTick((function(){return e.activeStep+=1})),t.abrupt("break",18);case 10:return t.next=12,e.$refs.form2.validate();case 12:if(a=t.sent,a){t.next=15;break}return t.abrupt("return");case 15:return e.$refs.form1.$nextTick((function(){return e.activeStep+=1})),t.abrupt("break",18);case 17:return t.abrupt("break",18);case 18:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form3.validate();case 2:if(a=t.sent,s=new FormData,a){t.next=6;break}return t.abrupt("return");case 6:for(i in e.schoolRequest)s.append(i,e.schoolRequest[i]);e.$buefy.dialog.confirm({title:"Revisa que los datos sean correctos",message:"Trámite solicitado: "+e.option,cancelText:"Cancelar",confirmText:"Enviar",type:"is-info",hasIcon:!0,iconPack:"fa",onConfirm:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["h"])(e.user.id,e.student);case 2:return t.next=4,Object(l["g"])(e.user.id,s);case 4:e.$buefy.toast.open({message:"¡Solicitud enviada correctamente!",type:"is-success"});case 5:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}()});case 8:case"end":return t.stop()}}),t)})))()}}},u=c,d=(a("22d7"),a("2877")),p=Object(d["a"])(u,s,i,!1,null,null,null);t["default"]=p.exports},be87:function(e,t,a){}}]);
//# sourceMappingURL=chunk-b1c6f9e0-legacy.7ef4aa22.js.map