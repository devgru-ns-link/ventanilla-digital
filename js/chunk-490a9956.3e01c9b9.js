(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-490a9956"],{"5dea":function(t,e,s){},a55b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"hero is-success is-fullheight"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container has-text-centered"},[s("div",{staticClass:"column is-5 is-offset-4"},[s("div",{staticClass:"box"},[s("h1",[t._v("Ventanilla Digital")]),t._m(0),s("form",[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.enrollment,expression:"user.enrollment"}],staticClass:"input",attrs:{type:"text",placeholder:"Matrícula"},domProps:{value:t.user.enrollment},on:{input:function(e){e.target.composing||t.$set(t.user,"enrollment",e.target.value)}}})])]),s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"password",placeholder:"Contraseña","password-reveal":""},domProps:{value:t.user.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])]),t._m(1),s("button",{staticClass:"button is-block is-info is-large is-fullwidth",class:{"is-loading":t.isLoading},on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v(" Iniciar sesión "),s("i",{staticClass:"fa fa-sign-in",attrs:{"aria-hidden":"true"}})])])]),s("p",{staticClass:"has-text-black"},[t._v(" ¿No tienes una cuenta? · "),s("router-link",{attrs:{tag:"a",to:"/register"}},[t._v("Regístrate")])],1)])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("figure",{staticClass:"avatar"},[s("img",{attrs:{src:"https://www.itmerida.mx/imagenes/tec.png",width:"125px",alt:"Logo"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"field"},[s("label",{staticClass:"checkbox"},[s("input",{attrs:{type:"checkbox"}}),t._v(" Recuérdame ")])])}];const r={data:()=>({redirect:void 0,otherQuery:{}}),watch:{$route:{handler:function(t){const e=t.query;e&&(this.redirect=e.redirect,this.otherQuery=this.getOtherQuery(e))},immediate:!0}},methods:{getOtherQuery(t){return Object.keys(t).reduce((e,s)=>("redirect"!==s&&(e[s]=t[s]),e),{})}}};var n=r,o={mixins:[n],data(){return{user:{enrollment:"",password:""},isLoading:!1}},methods:{alertCustomError(){this.$buefy.dialog.alert({title:"Error",message:"Something's not good but I have a custom <b>icon</b> and <b>type</b>",type:"is-danger",hasIcon:!0,icon:"times-circle",iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0})},async submit(){this.isLoading=!0;try{await this.$store.dispatch("login",this.user),this.$router.push({path:this.redirect||"/",query:this.otherQuery})}catch(t){this.alertCustomError()}finally{this.isLoading=!1}}}},l=o,c=(s("ca65"),s("2877")),u=Object(c["a"])(l,a,i,!1,null,"158d05a8",null);e["default"]=u.exports},ca65:function(t,e,s){"use strict";var a=s("5dea"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-490a9956.3e01c9b9.js.map